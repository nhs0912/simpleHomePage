/* Copyright (c) 2010-2013 Marcus Westin */
"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?module.exports=t():e.store=t()})(this,function(){function o(){try{return r in t&&t[r]}catch(e){return!1}}var e={},t=typeof window!="undefined"?window:global,n=t.document,r="localStorage",i="script",s;e.disabled=!1,e.version="1.3.20",e.set=function(e,t){},e.get=function(e,t){},e.has=function(t){return e.get(t)!==undefined},e.remove=function(e){},e.clear=function(){},e.transact=function(t,n,r){r==null&&(r=n,n=null),n==null&&(n={});var i=e.get(t,n);r(i),e.set(t,i)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(e){return JSON.stringify(e)},e.deserialize=function(e){if(typeof e!="string")return undefined;try{return JSON.parse(e)}catch(t){return e||undefined}};if(o())s=t[r],e.set=function(t,n){return n===undefined?e.remove(t):(s.setItem(t,e.serialize(n)),n)},e.get=function(t,n){var r=e.deserialize(s.getItem(t));return r===undefined?n:r},e.remove=function(e){s.removeItem(e)},e.clear=function(){s.clear()},e.getAll=function(){var t={};return e.forEach(function(e,n){t[e]=n}),t},e.forEach=function(t){for(var n=0;n<s.length;n++){var r=s.key(n);t(r,e.get(r))}};else if(n&&n.documentElement.addBehavior){var u,a;try{a=new ActiveXObject("htmlfile"),a.open(),a.write("<"+i+">document.w=window</"+i+'><iframe src="/favicon.ico"></iframe>'),a.close(),u=a.w.frames[0].document,s=u.createElement("div")}catch(f){s=n.createElement("div"),u=n.body}var l=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(s),u.appendChild(s),s.addBehavior("#default#userData"),s.load(r);var i=t.apply(e,n);return u.removeChild(s),i}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),h=function(e){return e.replace(/^d/,"___$&").replace(c,"___")};e.set=l(function(t,n,i){return n=h(n),i===undefined?e.remove(n):(t.setAttribute(n,e.serialize(i)),t.save(r),i)}),e.get=l(function(t,n,r){n=h(n);var i=e.deserialize(t.getAttribute(n));return i===undefined?r:i}),e.remove=l(function(e,t){t=h(t),e.removeAttribute(t),e.save(r)}),e.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(r)}),e.getAll=function(t){var n={};return e.forEach(function(e,t){n[e]=t}),n},e.forEach=l(function(t,n){var r=t.XMLDocument.documentElement.attributes;for(var i=0,s;s=r[i];++i)n(s.name,e.deserialize(t.getAttribute(s.name)))})}try{var p="__storejs__";e.set(p,p),e.get(p)!=p&&(e.disabled=!0),e.remove(p)}catch(f){e.disabled=!0}return e.enabled=!e.disabled,e});
!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory(require("store"));else if("function"==typeof define&&define.amd)define(["store"],factory);else{var a=factory("object"==typeof exports?require("store"):root.store);for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(__WEBPACK_EXTERNAL_MODULE_4__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),module.exports=__webpack_require__(3)},function(module,exports){"use strict";function register(){var constructor=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if($.fn.bxI18n)throw new Error("이미 존재하는 메서드입니다.");if(!_.isFunction(constructor))throw new Error("constructor 값이 존재하지 않습니다.");$.fn.bxI18n=function(){var args=[].slice.call(arguments,0),o=new(Function.prototype.bind.apply(constructor,[null].concat(args)));return o}}var _Base={register:register};module.exports=_Base},function(module,exports,__webpack_require__){"use strict";var _Base=__webpack_require__(1);_Base.register(__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";function bxI18n(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$langDatas=_ref.langDatas,langDatas=void 0===_ref$langDatas?{}:_ref$langDatas,_ref$langType=_ref.langType,langType=void 0===_ref$langType?"":_ref$langType,_ref$langUrl=_ref.langUrl,langUrl=void 0===_ref$langUrl?"":_ref$langUrl,_ref$enableStorage=_ref.enableStorage,enableStorage=void 0!==_ref$enableStorage&&_ref$enableStorage;if(!_.isObject(langDatas))throw new Error("langDatas "+MESSAGES.allMessage);if(!_.isString(langType))throw new Error("langType "+MESSAGES.allMessage);if(!_.isString(langUrl))throw new Error("langUrl "+MESSAGES.allMessage);if(!_.size(langDatas)&&""===langUrl)throw new Error("langDatas 프로퍼티와 langUrl 프로퍼티값이 둘다 존재하지 않습니다.");if(!_.isBoolean(enableStorage))throw new Error("enableStorage "+MESSAGES.allMessage);this.opts={langDatas:langDatas,langType:langType,langUrl:langUrl,enableStorage:enableStorage},this.activeLanguageData=null,this.isLoadedLanguageData=!1}function _getHost(){var host=location.hostname,protocol=location.protocol,port=location.port,pathname=location.pathname;return port?protocol+"//"+host+":"+port+pathname:protocol+"//"+host+pathname}function _getLangData(){var _this3=this,callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(!_.isFunction(callback))throw new Error("callback "+MESSAGES.allMessage);var langData=this.opts.langDatas[this.opts.langType];return _.isPlainObject(langData)?callback(langData):$.getJSON(_getHost()+"/"+this.opts.langUrl,function(langDatas){if(langData=langDatas[_this3.opts.langType],!_.isObject(langData))throw new Error(MESSAGES.notFoundLanguage);callback(langData)}).fail(function(){throw new Error("전달받은 "+_this3.opts.langUrl+" 에서 언어 데이터를 가져올 수 없습니다.")}),this}function _setLangData(){var _this4=this,callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(!_.isFunction(callback))throw new Error("callback "+MESSAGES.allMessage);return _getLangData.call(this,function(langData){_this4.opts.enableStorage?_setStorage.call(_this4,langData):_this4.activeLanguageData=langData,_this4.isLoadedLanguageData=!0,callback.call(_this4)}),this}function _setStorage(){var langData=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!_.isPlainObject(langData))throw new Error("langData "+MESSAGES.allMessage);return STORE.set(STORAGE_PREFIX+"languageData",langData),this}function _getNSValue(){var _this5=this,parseData=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!_.isString(parseData))throw new Error("parseData "+MESSAGES.allMessage);var ptn=/(\{\%\=\s*(.*?)\s*\%\})/gi,ret=parseData.replace(ptn,function(){var _ret=arguments.length<=1?void 0:arguments[1],ns=arguments.length<=2?void 0:arguments[2],keys=ns.split("."),langData=_getFullLanguageData.call(_this5),i=0;return function __(keys,target){target=target||langData,_.map(keys,function(v){var _k=v,_v=target[_k];_v&&(_.isPlainObject(_v)?__.apply(null,[keys.slice(i++),_v]):_ret=_v.toString())})}.bind(_this5)(keys),_ret});return ret}function _getFullLanguageData(){var ret=null;return ret=this.opts.enableStorage?STORE.get(STORAGE_PREFIX+"languageData"):this.activeLanguageData}var STORE=__webpack_require__(4),STORAGE_PREFIX="-bx-i18n-",DATA_ATTR_PREFIX="data-i18n-",MESSAGES={allMessage:"타입이 유효하지 않거나, 값이 존재하지 않습니다.",typeMessage:"타입이 유효하지 않거나, 값이 존재하지 않습니다.",valueMessage:"값이 존재하지 않습니다.",notFoundLanguage:"언어 데이터가 존재하지 않습니다.",notSelectedMultipleElement:"복수 $container 엘리먼트는 지정할 수 없습니다.",timeoutError:"Timeout Error: 현재 언어가 설정되지 못했습니다."};bxI18n.prototype={init:function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(!_.isFunction(callback))throw new Error("callback "+MESSAGES.allMessage);return this.setLang(this.opts.langType,callback),this},ready:function(){var success=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},fail=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},timeout=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;if(!_.isFunction(success))throw new Error("success "+MESSAGES.allMessage);if(!_.isFunction(fail))throw new Error("fail "+MESSAGES.allMessage);if(!_.isNumber(timeout))throw new Error("timeout "+MESSAGES.allMessage);var sDateTime=(new Date).getTime();return function __(){var _this=this;return(new Date).getTime()-sDateTime>timeout?void fail.call(this):void(this.isLoadedLanguageData?success.call(this):window.setTimeout(function(){__.call(_this)},300))}.bind(this)(),this},setLang:function(){var langType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!_.isString(langType))throw new Error("langType "+MESSAGES.allMessage);if(!_.isFunction(callback))throw new Error("callback "+MESSAGES.allMessage);var w=window;return this.opts.langType=langType||w.navigator.language||w.navigator.browserLanguage,this.opts.langType=this.opts.langType.split("-")[0],_setLangData.call(this,callback),this},getLangType:function(){return this.opts.langType},getValue:function(){var parseData=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!_.isString(parseData)||0===_.trim(parseData).length)throw new Error("parseData "+MESSAGES.allMessage);return _getNSValue.call(this,parseData)},setValue:function(){var $elem=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,_this2=this,parseData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",attr=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_.isNull($elem))throw new Error("$elem "+MESSAGES.allMessage);if(!_.isElement($elem.get(0)))throw new Error("$elem "+MESSAGES.allMessage);if(!_.isString(parseData)||0===_.trim(parseData).length)throw new Error("parseData "+MESSAGES.allMessage);if(!_.isPlainObject(attr))throw new Error("attr "+MESSAGES.allMessage);return $elem.html(_getNSValue.call(this,parseData)),_.map(attr,function(v,k){var _v=v;v=_getNSValue.call(_this2,v),$elem.attr(""+DATA_ATTR_PREFIX+k,_v),$elem.attr(k,v),$elem.prop(k,v)}),this},translate:function(){var $container=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(document.documentElement);if(!_.isElement($container.get(0)))throw new Error("$container "+MESSAGES.allMessage);var $elems=$container;if($elems.length>1&&($elems=$(document.documentElement)),$elems=[$elems],!this.isLoadedLanguageData)return this;for(var elem=null;elem=$elems.pop();){var $elem=$(elem),attrs=elem.attributes;for(var k in attrs){var attr=attrs[k];if(attr instanceof Attr){var name=attr.name,value=attr.value,defaultMatch=/^data-i18n$/.exec(name),attrMatch=/^data-i18n-(.*)$/.exec(name);if(!defaultMatch&&!attrMatch)continue;if(!value)continue;attrMatch&&(name=attrMatch[1]);var parseValue=_getNSValue.call(this,value);defaultMatch?$elem.html(parseValue):attrMatch&&($elem.attr(name,parseValue),$elem.prop(name,parseValue))}}for(var $children=$elem.children(),length=$children.size()||0;length--;)$elems.push($children.get(length))}return this}},module.exports=bxI18n},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_4__}])});